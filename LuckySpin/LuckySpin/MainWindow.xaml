<Window x:Class="LuckySpin.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:LuckySpin"
        mc:Ignorable="d"
        Title="Lucky Spin" Height="900" Width="1600" WindowStartupLocation="CenterScreen" ResizeMode="CanMinimize" WindowStyle="ThreeDBorderWindow" Loaded="Window_Loaded">
    <Grid>
        <Image x:Name="img_bg" 
               Source="/spin2.png" 
               Stretch="UniformToFill" 
               RenderTransformOrigin="0.5,0.5"
               HorizontalAlignment="Center"
               VerticalAlignment="Center" Opacity="01" RenderOptions.BitmapScalingMode="HighQuality">
            <Image.RenderTransform>
                <TransformGroup>
                    <ScaleTransform ScaleX="1.2" ScaleY="1.3"/>

                    <RotateTransform x:Name="bgRotate" Angle="0"/>
                </TransformGroup>
            </Image.RenderTransform>

        </Image>

        <Viewbox Stretch="Uniform">
            <Grid>
                <!-- Kim chỉ -->
                <Polygon Points="0,0 30,0 15,75"
                     Stroke="#333333"
                     StrokeThickness="1"
                     Panel.ZIndex="10"
                     HorizontalAlignment="Center"
                     VerticalAlignment="Top"
                     Margin="0,0,0,0">
                    <Polygon.Fill>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Color="#E6C300" Offset="0.0"/>
                            <GradientStop Color="#FFFFA0" Offset="0.5"/>
                            <GradientStop Color="#E6C300" Offset="1.0"/>
                        </LinearGradientBrush>
                    </Polygon.Fill>
                    <Polygon.Effect>
                        <DropShadowEffect Color="#222222" ShadowDepth="3" BlurRadius="5" Opacity="0.8"/>
                    </Polygon.Effect>
                </Polygon>
                <!-- Vùng chứa vòng quay + nút -->
                <Grid Width="300" Height="300"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center" Margin="50">

                    <!-- Vòng quay -->
                    <Canvas x:Name="WheelCanvas"
                        Width="300"
                        Height="300"
                        RenderTransformOrigin="0.5,0.5">
                        <Canvas.RenderTransform>
                            <RotateTransform x:Name="WheelRotate"/>
                        </Canvas.RenderTransform>
                    </Canvas>

                    <!-- Nút SPIN ở giữa -->
                    <Button x:Name="SpinButton"
        Width="80"
        Height="80"
        Click="Spin_Click"
        Cursor="Hand"
        FontWeight="Bold"
        FontSize="16"
        Foreground="White"
        BorderThickness="0"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        Content="SPIN"
        RenderTransformOrigin="0.5,0.5">

                        <!-- Scale để hover -->
                        <Button.RenderTransform>
                            <ScaleTransform x:Name="btnScale"
                        ScaleX="1"
                        ScaleY="1"/>
                        </Button.RenderTransform>

                        <!-- Template bo tròn + gradient -->
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Grid>
                                    <Ellipse>
                                        <Ellipse.Fill>
                                            <RadialGradientBrush>
                                                <GradientStop Color="#66BB6A" Offset="0"/>
                                                <GradientStop Color="#2E7D32" Offset="1"/>
                                            </RadialGradientBrush>
                                        </Ellipse.Fill>
                                    </Ellipse>

                                    <TextBlock Text="SPIN"
                           Foreground="White"
                           FontWeight="Bold"
                           FontSize="16"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center">
                                        <TextBlock.Effect>
                                            <DropShadowEffect BlurRadius="5"
                                          ShadowDepth="1"
                                          Color="Black"
                                          Opacity="0.6"/>
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>
                            </ControlTemplate>
                        </Button.Template>

                        <!-- Đổ bóng -->
                        <Button.Effect>
                            <DropShadowEffect BlurRadius="15"
                          ShadowDepth="3"
                          Color="Black"
                          Opacity="0.4"/>
                        </Button.Effect>

                        <!-- Hover animation -->
                        <Button.Triggers>
                            <EventTrigger RoutedEvent="MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                                     To="1.1" Duration="0:0:0.15"/>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                                     To="1.1" Duration="0:0:0.15"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                                     To="1" Duration="0:0:0.15"/>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                                     To="1" Duration="0:0:0.15"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Button.Triggers>
                    </Button>


                </Grid>
            </Grid>

        </Viewbox>
    </Grid>

</Window>
